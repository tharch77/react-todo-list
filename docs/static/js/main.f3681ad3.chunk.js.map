{"version":3,"sources":["shortJS.js","Todo.js","TodoList.js","App.js","index.js"],"names":["Id","id","substring","document","getElementById","Todo","todo","toggleTodo","className","type","checked","complete","onChange","htmlFor","name","TodoList","todos","map","key","uuidv4","require","v4","App","useState","setTodos","setName","useEffect","storedTodos","JSON","parse","localStorage","getItem","setItem","stringify","style","width","newTodos","e","target","value","placeholder","onClick","prevTodos","$$","focus","filter","length","ReactDOM","render"],"mappings":"4OASaA,EAAK,SAACC,GAElB,OADAA,EAA4B,MAAvBA,EAAGC,UAAU,EAAG,GAAaD,EAAGC,UAAU,GAAKD,EAC7CE,SAASC,eAAeH,ICTjB,SAASI,EAAT,GAAqC,IAArBC,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,WAKnC,OACA,6BACC,yBAAKC,UAAU,cACd,2BACCA,UAAU,0BACVP,GAAIK,EAAKL,GACTQ,KAAK,WACLC,QAASJ,EAAKK,SACdC,SAZH,WACEL,EAAWD,EAAKL,OAahB,2BAAOY,QAASP,EAAKL,GAAIO,UAAU,aACjCF,EAAKQ,QCfI,SAASC,EAAT,GAA0C,IAAtBC,EAAqB,EAArBA,MAAOT,EAAc,EAAdA,WACxC,OACES,EAAMC,KAAI,SAAAX,GACR,OAAO,kBAACD,EAAD,CAAMa,IAAKZ,EAAKL,GAAIM,WAAYA,EAAYD,KAAMA,OCE/D,IAAYa,EAAWC,EAAQ,IAAvBC,GAgGOC,MA5Ff,WACE,MAA0BC,mBAAS,IAAnC,mBAAOP,EAAP,KAAcQ,EAAd,KAEA,EAAwBD,mBAAS,IAAjC,mBAAOT,EAAP,KAAaW,EAAb,KA4CA,OAxCAC,qBAAU,WACR,IAAMC,EAAcC,KAAKC,MAAMC,aAAaC,QAVtB,kBAWlBJ,GAAaH,EAASG,KACzB,IAEHD,qBAAU,WACRI,aAAaE,QAfS,gBAekBJ,KAAKK,UAAUjB,MACtD,CAACA,IAkCF,6BAASR,UAAU,WACjB,yBAAKA,UAAU,kBAAkB0B,MAAO,CAAEC,MAAO,UAC/C,wBAAI3B,UAAU,sBAAd,2BACA,kBAACO,EAAD,CAAUC,MAAOA,EAAOT,WAnC9B,SAAoBN,GAClB,IAAMmC,EAAWpB,EAAMC,KAAI,SAACX,GAAD,OACzBA,EAAKL,KAAOA,EAAZ,2BAAsBK,GAAtB,IAA4BK,UAAWL,EAAKK,WAAaL,KAE3DkB,EAASY,MAgCL,yBAAK5B,UAAU,yBACb,yBAAKA,UAAU,uBACb,2BACEC,KAAK,OACLD,UAAU,QACVP,GAAG,WACHW,SAAU,SAACyB,GAAD,OAAOZ,EAAQY,EAAEC,OAAOC,QAClCA,MAAOzB,EACP0B,YAAY,UAGhB,yBAAKhC,UAAU,WACb,4BACEC,KAAK,SACLD,UAAU,oBACViC,QArCZ,SAAuBJ,GAER,KAATvB,IAEJU,GAAS,SAACkB,GACR,MAAM,GAAN,mBAAWA,GAAX,CAAsB,CAAEzC,GAAIkB,IAAUL,KAAMA,EAAMH,UAAU,QAG9Dc,EAAQ,IACRkB,EAAM,YAAYC,WAyBV,sBAUJ,2EACW5B,EAAM6B,QAAO,SAACvC,GAAD,OAAWA,EAAKK,YAAUmC,OADlD,WAGA,2EACW9B,EAAM6B,QAAO,SAACvC,GAAD,OAAUA,EAAKK,YAAUmC,OADjD,WAIA,4BACEtC,UAAU,kCACViC,QAzCR,WACE,IAAML,EAAWpB,EAAM6B,QAAO,SAACvC,GAAD,OAAWA,EAAKK,YAC9Ca,EAASY,KAqCL,0CC7ERW,IAASC,OAAO,kBAAC,EAAD,MAASL,EAAM,W","file":"static/js/main.f3681ad3.chunk.js","sourcesContent":["// shortJS.js\r\n// import Handlebars from 'handlebars';\r\n\r\n// shortBulma.js\r\n\r\n// ss: String, not selector\r\nexport const Id0 = (id) => {\r\n\treturn document.getElementById(id)\r\n}\r\nexport const Id = (id) => {\r\n\tid = id.substring(0, 1) === '#' ? id.substring(1) : id\r\n\treturn document.getElementById(id)\r\n}\r\n\r\n// selector\r\nexport const q = (sel) => document.querySelector(sel)\r\nexport const qAll = (sel) => document.querySelectorAll(sel)\r\nexport const oq = (o, sel) => o.querySelector(sel)\r\nexport const oqAll = (o, sel) => o.querySelectorAll(sel)\r\n\r\nexport const de = (f) => {\r\n\tdocument.addEventListener('DOMContentLoaded', f)\r\n}\r\n\r\nexport const oe = (o, f, evNa = 'click') => {\r\n\to.addEventListener(evNa, f)\r\n}\r\n\r\nexport const dqoe = (sel, f) => {\r\n\tde(() => qe(sel, f))\r\n}\r\n\r\nexport const qecL = (sel, selT, cN = 'is-active', mN = 'toggle') => {\r\n\tqe(sel, (e) => {\r\n\t\te.stopPropagation()\r\n\t\tqcL(sel, cN, mN)\r\n\t\tqcL(selT, cN, mN)\r\n\t})\r\n}\r\n\r\nexport const qe = (sel, f, evNa = 'click') => {\r\n\toe(q(sel), f, evNa)\r\n}\r\n\r\nexport const doe = (o, f) => {\r\n\tde(() => oe(o, f))\r\n}\r\n\r\nexport const qAe = (sel, f, evNa = 'click') => {\r\n\tqAll(sel).forEach((o) => oe(o, () => f(o), evNa))\r\n}\r\n\r\nexport const DF = () => new DocumentFragment()\r\n\r\nexport const oes = (o, f) => {\r\n\to.addEventListener('submit', f)\r\n}\r\n\r\nexport const tC = (id) => {\r\n\treturn Id(id).content\r\n}\r\n\r\nexport const tCc = (id, b = true) => {\r\n\treturn document.importNode(tC(id), b)\r\n}\r\n\r\nexport const tCco = (o, b = true) => {\r\n\treturn document.importNode(o, b)\r\n}\r\n\r\nexport const ogA = (o, ss) => o.getAttribute('data-' + ss)\r\nexport const ogD = (o, ss) => o.dataset[ss]\r\nexport const qogA = (sel, ss) => q(sel).getAttribute('data-' + ss)\r\nexport const qogD = (sel, ss) => q(sel).dataset[ss]\r\n\r\nexport const na = (ss) => document.getElementsByName(ss) // form radio\r\n\r\nexport const qcL = (sel, cN = 'is-active', mN = 'toggle') =>\r\n\tq(sel).classList[mN](cN)\r\n\r\nexport const ocL = (o, cN = 'is-active', mN = 'toggle') => o.classList[mN](cN)\r\n\r\nexport const qcLm = (\r\n\tsel,\r\n\t{ selT, cN = 'is-active' },\r\n\tmN = 'toggle',\r\n\tstopP = true\r\n) => {\r\n\tocLm(q(sel), { trgt: q(selT), cN }, mN, stopP)\r\n}\r\n\r\nexport const ocLm = (\r\n\to,\r\n\t{ trgt, cN = 'is-active' },\r\n\tmN = 'toggle',\r\n\tstopP = true\r\n) => {\r\n\toe(o, (e) => {\r\n\t\tif (stopP) e.stopPropagation()\r\n\t\ttrgt.classList[mN](cN)\r\n\t})\r\n}\r\n\r\nexport const oAcLm = (\r\n\to,\r\n\t{ trgts, cN = 'is-active' }, // trgts: array\r\n\tmN = 'toggle',\r\n\tstopP = true\r\n) => {\r\n\toe(o, (e) => {\r\n\t\tif (stopP) e.stopPropagation()\r\n\t\ttrgts.forEach((t) => t.classList[mN](cN))\r\n\t})\r\n}\r\n\r\n// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\nexport const bulmaMenu = (ss, ssT) => {\r\n\tqecL(ss, ssT)\r\n\tdqoe('body', (e) => {\r\n\t\te.stopPropagation()\r\n\t\tconst b = q(ss)\r\n\t\tif (b.classList.contains('is-active')) {\r\n\t\t\tocL(b)\r\n\t\t\tqcL(ssT)\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const bulmaTabs = (ssTabs, ssContent) => {\r\n\tconst tabs = qAll(ssTabs)\r\n\tconst boxes = qAll(ssContent)\r\n\r\n\ttabs.forEach((tab) => {\r\n\t\tconst target = Id(tab.dataset.target)\r\n\r\n\t\toe(tab, () => {\r\n\t\t\tbulmaTab(tabs, tab)\r\n\t\t\tbulmaTabR(boxes, target, 'is-hidden')\r\n\t\t})\r\n\t})\r\n}\r\n\r\n// bulmaTabs('.tabs li', '#tab-content > div');\r\n\r\nexport const bulmaTab = (items, target, cN = 'is-active') => {\r\n\titems.forEach((item) => {\r\n\t\tif (item === target) {\r\n\t\t\tocL(item, cN, 'add')\r\n\t\t} else {\r\n\t\t\tocL(item, cN, 'remove')\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const bulmaTabR = (items, target, cN = 'is-active') => {\r\n\titems.forEach((item) => {\r\n\t\tif (item === target) {\r\n\t\t\tocL(item, cN, 'remove')\r\n\t\t} else {\r\n\t\t\tocL(item, cN, 'add')\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const bulmaModal = (sel, selB, selM) => {\r\n\tqcLm(sel, { selT: selM })\r\n\tqcLm(selB, { selT: selM })\r\n}\r\n\r\n// ~~ Animation ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n//  need CSS 'jump ...'\r\nexport const jump = (sel) => {\r\n\tqAe(\r\n\t\tsel,\r\n\t\t(o) => {\r\n\t\t\tocL(o, 'jump', 'toggle')\r\n\t\t\t// ocL(o, 'jump', 'add')\r\n\t\t},\r\n\t\t'mousedown'\r\n\t)\r\n\r\n\tqAe(\r\n\t\tsel,\r\n\t\t(o) => {\r\n\t\t\t// ocL(o, 'jump', 'toggle')\r\n\t\t\tocL(o, 'jump', 'remove')\r\n\t\t},\r\n\t\t'animationend'\r\n\t)\r\n\r\n\tqAe(\r\n\t\tsel,\r\n\t\t(o) => {\r\n\t\t\tocL(o, 'jump', 'remove')\r\n\t\t},\r\n\t\t'animationcancel'\r\n\t)\r\n}\r\n\r\n/* \r\n\t\t\t.a_btn {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t}\r\n\t\t\t.a_btn.jump {\r\n\t\t\t\tanimation: 0.07s cubic-bezier(0.2, 1, 0.2, 1) 0s 1 jump;\r\n\t\t\t}\r\n\t\t\t@keyframes jump {\r\n\t\t\t\t0%,\r\n\t\t\t\t50% {\r\n\t\t\t\t\ttransform: translateY(-2px);\r\n\t\t\t\t}\r\n\t\t\t\t100% {\r\n\t\t\t\t\ttransform: translateY(0px);\r\n\t\t\t\t}\r\n\t\t\t}\r\n */\r\n\r\n// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n// Bulmaとは直接関係ありません。\r\nexport const codeS = (id) => {\r\n\tconst pre1 = Id(id)\r\n\tif (!pre1) return\r\n\r\n\toe(pre1, () => {\r\n\t\tdocument\r\n\t\t\t.getSelection()\r\n\t\t\t.setBaseAndExtent(pre1, 0, pre1, pre1.childNodes.length)\r\n\t\t// console.log('pre1.childNodes.length', pre1.childNodes.length);\r\n\t})\r\n}\r\n\r\n// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n\r\n// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n\r\n// export const cn = (ss) => document.getElementsByClassName(ss);\r\n// export const cn1 = (ss) => document.getElementsByClassName(ss)[0];\r\n\r\n// export const tn = (ss) => document.getElementsByTagName(ss);\r\n// export const tn1 = (ss) => document.getElementsByTagName(ss)[0];\r\n\r\n// export const na = (ss) => document.getElementsByName(ss);\r\n// export const na1 = (ss) => document.getElementsByName(ss)[0];\r\n// export const sBq = (btnId, { target, changeClass }, toggle) =>\r\n//   setBtn_q(btnId, { target, changeClass }, toggle);\r\n\r\n// export const sBcn1 = (btnId, { target, changeClass }, toggle) =>\r\n//   setBtn_cn1(btnId, { target, changeClass }, toggle);\r\n\r\n// export const sB = (btnId, { target, changeClass }, toggle) =>\r\n//   setBtn_TargetobjToggle(btnId, { target, changeClass }, toggle);\r\n\r\n// export const sBe_target = (e_target, btnId, { target, changeClass }, toggle) => {\r\n//   setBtn_eTargetobjToggle(e_target, btnId, { target, changeClass }, toggle);\r\n// };\r\n\r\n// export const  = () => {\r\n\r\n// }\r\n\r\n// setBtn_q = function (\r\n//   btnId,\r\n//   { target, changeClass = 'is-active' },\r\n//   toggle = 'toggle'\r\n// ) {\r\n//   q(btnId).addEventListener('click', function (e) {\r\n//     // console.log('e.target:', e.target);\r\n//     q(target).classList.toggle(changeClass);\r\n//   });\r\n// };\r\n\r\nexport const oeSW = (\r\n\tbtnId,\r\n\t{ trgt, changeClass = 'is-active' },\r\n\ttoggle = 'toggle',\r\n\tstopP = false\r\n) => {\r\n\tswitch (toggle) {\r\n\t\tcase 'add':\r\n\t\t\tif (stopP === true)\r\n\t\t\t\toe(btnId, function (e) {\r\n\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\ttrgt.classList.add(changeClass)\r\n\t\t\t\t})\r\n\t\t\telse oe(btnId, () => trgt.classList.add(changeClass))\r\n\t\t\tbreak\r\n\t\tcase 'remove':\r\n\t\t\tif (stopP === true)\r\n\t\t\t\toe(btnId, function (e) {\r\n\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\ttrgt.classList.remove(changeClass)\r\n\t\t\t\t})\r\n\t\t\telse oe(btnId, () => trgt.classList.remove(changeClass))\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tif (stopP === true)\r\n\t\t\t\toe(btnId, (e) => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'e.target',\r\n\t\t\t\t\t\te.target\r\n\t\t\t\t\t\t// e.target.textContent, // 空白文字も含む\r\n\t\t\t\t\t\t// e.target.innerText == e.target.innerText.trim()\r\n\t\t\t\t\t)\r\n\t\t\t\t\tconsole.log(ogA(e.target, 'item'))\r\n\t\t\t\t\t// console.log(e.target.getAttribute('data-item'));\r\n\r\n\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\ttrgt.classList.toggle(changeClass)\r\n\t\t\t\t})\r\n\t\t\t// oe(btnId, function (e) {\r\n\t\t\t//   e.stopPropagation();\r\n\t\t\t//   trgt.classList.toggle(changeClass);\r\n\t\t\t// });\r\n\t\t\telse oe(btnId, () => trgt.classList.toggle(changeClass))\r\n\t\t\tbreak\r\n\t}\r\n}\r\n\r\nexport const qoeSW = (\r\n\tbtnId,\r\n\t{ target, changeClass = 'is-active' },\r\n\ttoggle = 'toggle'\r\n) => {\r\n\tconst trgt = q('target')\r\n\r\n\tswitch (toggle) {\r\n\t\tcase 'add':\r\n\t\t\tqe(btnId, () => trgt.classList.add(changeClass))\r\n\t\t\tbreak\r\n\t\tcase 'remove':\r\n\t\t\tqe(btnId, () => trgt.classList.remove(changeClass))\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tqe(btnId, () => trgt.classList.toggle(changeClass))\r\n\t\t\tbreak\r\n\t}\r\n}\r\n\r\n// shortHbs.js\r\n\r\n","import React from 'react'\n\nexport default function Todo({ todo, toggleTodo }) {\n  function handleTodoClick() {\n    toggleTodo(todo.id)\n  }\n  \n  return (\n\t\t<div>\n\t\t\t<div className=\"field mb-2\">\n\t\t\t\t<input\n\t\t\t\t\tclassName=\"is-checkradio is-danger\"\n\t\t\t\t\tid={todo.id}\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tchecked={todo.complete}\n\t\t\t\t\tonChange={handleTodoClick}\n\t\t\t\t/>\n\t\t\t\t<label htmlFor={todo.id} className=\"is-size-5\">\n\t\t\t\t\t{todo.name}\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n","import React from 'react'\nimport Todo from './Todo'\n\nexport default function TodoList({ todos, toggleTodo }) {\n  return (\n    todos.map(todo => {\n      return <Todo key={todo.id} toggleTodo={toggleTodo} todo={todo} />\n    })\n  )\n}\n","// import React, { useState, useRef, useEffect } from 'react'\nimport React, { useState, useEffect } from \"react\";\n// import uuidv4 from \"uuid/v4\";\n\nimport * as $$ from \"./shortJS.js\";\n\nimport TodoList from \"./TodoList\";\n\nconst { v4: uuidv4 } = require(\"uuid\");\n\nconst LOCAL_STORAGE_KEY = \"todoApp.todos\";\n\nfunction App() {\n  const [todos, setTodos] = useState([]);\n  // const todoNameRef = useRef()\n  const [name, setName] = useState(\"\");\n  // <input ref={todoNameRef} />  todoNameRef.current.value\n  // React.createRef()\n\n  useEffect(() => {\n    const storedTodos = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\n    if (storedTodos) setTodos(storedTodos);\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(todos));\n  }, [todos]);\n\n  function toggleTodo(id) {\n    const newTodos = todos.map((todo) =>\n      todo.id === id ? { ...todo, complete: !todo.complete } : todo\n    );\n    setTodos(newTodos);\n  }\n\n  // function toggleTodo(id) {\n  // \tconst newTodos = [...todos]\n  // \tconst todo = newTodos.find((todo) => todo.id === id)\n  // \ttodo.complete = !todo.complete\n  // \tsetTodos(newTodos)\n  // }\n\n  function handleAddTodo(e) {\n    // const name = todoNameRef.current.value\n    if (name === \"\") return;\n\n    setTodos((prevTodos) => {\n      return [...prevTodos, { id: uuidv4(), name: name, complete: false }];\n    });\n    // todoNameRef.current.value = null\n    setName(\"\");\n    $$.Id(\"complete\").focus();\n  }\n\n  function handleClearTodos() {\n    const newTodos = todos.filter((todo) => !todo.complete);\n    setTodos(newTodos);\n  }\n\n  return (\n    <section className=\"section\">\n      <div className=\"container outer\" style={{ width: \"500px\" }}>\n        <h1 className=\"title notification\">Todo リスト</h1>\n        <TodoList todos={todos} toggleTodo={toggleTodo} />\n        <div className=\"field has-addons my-4\">\n          <div className=\"control is-expanded\">\n            <input\n              type=\"text\"\n              className=\"input\"\n              id=\"complete\"\n              onChange={(e) => setName(e.target.value)}\n              value={name}\n              placeholder=\"Todo\"\n            />\n          </div>\n          <div className=\"control\">\n            <button\n              type=\"button\"\n              className=\"button is-primary\"\n              onClick={handleAddTodo}\n            >\n              Todo追加\n            </button>\n          </div>\n        </div>\n\n        <div>\n          　未完了の数:　{todos.filter((todo) => !todo.complete).length} 件\n        </div>\n        <div>\n          　完了の件数:　{todos.filter((todo) => todo.complete).length} 件\n        </div>\n\n        <button\n          className=\"button btn-block mt-5 is-danger\"\n          onClick={handleClearTodos}\n        >\n          完了Todo の削除\n        </button>\n      </div>\n    </section>\n  );\n}\n\nexport default App;\n","/* eslint no-unused-expressions: \"off\" */\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"bulma/css/bulma.min.css\";\nimport \"bulma-extensions/dist/css/bulma-extensions.min.css\";\nimport \"./index.css\";\nimport App from \"./App\";\n\n// import './css/bulma.min.css'\n// import './css/bulma-extensions.min.css'\n// import './js/bulma-extensions.min.js'\n// import \"./css/darkly/bulmaswatch.min.css\";\n// darkly cerulean sandstone\nimport * as $$ from \"./shortJS.js\";\n\nReactDOM.render(<App />, $$.Id(\"root\"));\n"],"sourceRoot":""}